<div class="app-shell">
  <section class="hero page-width">
    <app-header></app-header>
  </section>

  <section class="about page-width">
    <details class="about__details">
      <summary>About AutomataJS</summary>
      <div class="about__body">
        <p>
          AutomataJS is a GPU-accelerated playground for iterating on cellular automata without touching GLSL.
          Every simulation runs in shaders, so you can zoom to the pixel level, pause a pattern, recolor it, then resume at full speed.
        </p>
        <p>
          The UI is being rebuilt to keep up with the engine: responsive controls, touch-friendly sliders, and clear presets help you experiment on desktop
          or mobile. Save palettes, swap rule sets, and capture high-resolution wallpapers as you explore emergent behavior.
        </p>
      </div>
    </details>
  </section>

  <div class="workspace page-width">
    <section class="canvas-panel">
      <div class="panel-card">
        <div class="panel-card__toolbar">
          <div class="chip tip-chip">
            <span class="chip__label">Tip</span>
            <span>Drag the sliders or pause the sim to adjust at pixel level.</span>
          </div>
        </div>
        <div class="canvas-wrapper">
          <app-automata-canvas></app-automata-canvas>
        </div>
        <div class="panel-card__footer">
          <div class="slider-field">
            <div class="slider-field__label">
              <span>Cell size</span>
            </div>
            <app-automata-cell-size-slider></app-automata-cell-size-slider>
          </div>
        </div>
      </div>
    </section>

    <section class="control-panel">
      <article class="control-card">
        <header>
          <h3>Palette</h3>
          <p>Define the hues used for background, active cells, and rule accents.</p>
        </header>
        <div class="color-grid">
          <div class="color-row">
            <span>Background</span>
            <app-color-picker
              [color]="backgroundColor.getHexString()"
              (chosenColor)="onBackgroundColorChosen($event)"
            ></app-color-picker>
          </div>
          <div class="color-row">
            <span>Active</span>
            <app-color-picker
              [color]="activationColor.getHexString()"
              (chosenColor)="onActivationColorChosen($event)"
            ></app-color-picker>
          </div>
          <ng-container *ngFor="let colorType of getAdditionalColorsForAutomata()">
            <div class="color-row">
              <span>{{ colorType.displayName }}</span>
              <app-color-picker
                [color]="colorType.color.getHexString()"
                (chosenColor)="onAutomataColorChosen(colorType.displayName, $event)"
              ></app-color-picker>
            </div>
          </ng-container>
        </div>
      </article>

      <article class="control-card">
        <header>
          <h3>Simulation</h3>
          <p>Select a rule set and control playback.</p>
        </header>
        <app-automata-control></app-automata-control>
      </article>

      <article class="control-card">
        <header>
          <h3>Performance</h3>
          <p>Balance visual fidelity with animation speed.</p>
        </header>
        <app-automata-fps-cap-slider></app-automata-fps-cap-slider>
      </article>
    </section>
  </div>
</div>
